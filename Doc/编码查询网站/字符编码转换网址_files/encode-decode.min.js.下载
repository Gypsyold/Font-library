function splitChange(){var n=$("#form").getWebControls();n.split=="4"?($("#divCustomSplit").show(),$("#customSplit").val(config_encode_decode.customSplit)):$("#divCustomSplit").hide()}function encode(){updateTextareaValue("txtOutput","");var n=$("#form").getWebControls();if(delete n.output,ys.isNullOrEmpty(n.input)){ys.toastError(getTextByLanguage("编码 文本不能为空"));$("#txtInput").focus();return}ys.ajax({url:"/EncodeDecode/Encode",type:"post",data:n,success:function(n){n.Tag==1?(updateTextareaValue("txtOutput",n.Data),updateWordCountForTextarea($("#txtOutput")),config_encode_decode=ys.saveConfig("form",localStorageKey,{message:n.Message}),showMessage()):(hideMessage(),ys.toastError(n.Message))}})}function decode(){updateTextareaValue("txtOutput","");var n=$("#form").getWebControls();if(delete n.output,ys.isNullOrEmpty(n.input)){ys.toastError(getTextByLanguage("解码 文本不能为空"));$("#txtInput").focus();return}ys.ajax({url:"/EncodeDecode/Decode",type:"post",data:n,success:function(n){n.Tag==1?(updateTextareaValue("txtOutput",n.Data),updateWordCountForTextarea($("#txtOutput")),config_encode_decode=ys.saveConfig("form",localStorageKey,{message:n.Message}),showMessage()):(hideMessage(),ys.toastError(n.Message))}})}function showMessage(){ys.isNullOrEmpty(config_encode_decode.message)?hideMessage():($("#divResult").show(),$("#divResult").find(".alert").html(config_encode_decode.message))}function hideMessage(){$("#divResult").hide()}var config_encode_decode={encoding:"UTF-8",format:"4",split:"1"};window.pageLoad=function(){localStorageKey=nameOf(()=>config_encode_decode);$("#format").ysComboBox({data:[{Key:"1",Value:getTextByLanguage("二进制")},{Key:"2",Value:getTextByLanguage("八进制")},{Key:"3",Value:getTextByLanguage("十进制")},{Key:"4",Value:getTextByLanguage("十六进制")}],width:120});$("#split").ysComboBox({data:[{Key:1,Value:getTextByLanguage("无")},{Key:2,Value:getTextByLanguage("空格")},{Key:3,Value:getTextByLanguage("逗号")},{Key:4,Value:getTextByLanguage("自定义")}],width:120,onChange:splitChange});initShareLinkParam(localStorageKey);ys.loadConfig("form",localStorageKey,config_encode_decode);splitChange();showMessage();var n=$(window).height()-ys.getElementActualHeight("divUp")-ys.getElementActualHeight("divMiddle")-ys.getElementActualHeight("divResult")-adHeight-pagePadding;n=Math.max(n,ys.getElementActualHeight("txtInput"));n=Math.round(n);$("#txtOutput").css("height",n)};